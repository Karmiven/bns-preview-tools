<UI:GameScene
	x:Class="Xylia.Preview.UI.Art.GameUI.Scene.Game_QuestJournal.Game_QuestJournalScene"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="clr-namespace:Xylia.Preview.UI.Art.GameUI.Scene.Game_QuestJournal"
	xmlns:data="clr-namespace:Xylia.Preview.Data.Models;assembly=Preview.Core"
	xmlns:UI="https://github.com/xyliaup/bns-preview-tools"
	xmlns:VM="clr-namespace:Xylia.Preview.UI.ViewModels"
	MetaData="textref=UI.QuestJournal.Title">
	<Window.Resources>
		<ContextMenu x:Key="ExtractMenu">
			<MenuItem Click="Extract_QuestList_Click" Header="导出任务列表"/>
			<MenuItem Click="Extract_EpicQuestList_Click" Header="导出主线任务列表"/>
		</ContextMenu>
	</Window.Resources>

	<Grid x:Name="QuestJournalPanel" Height="790" Width="790" >
		<TabControl x:Name="QuestJournal_Tab">
			<TabItem x:Name="QuestJournal_Tab_RadioButton_1" Header="正在进行" >
				<Grid x:Name="QuestJournal_ProgressQuest">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="250" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>

					<TreeView x:Name="QuestJournal_ProgressQuestList" Grid.Column="0" SelectedItemChanged="ProgressTab_SelectedItemChanged" 
						  VirtualizingStackPanel.IsVirtualizing="True" VirtualizingStackPanel.VirtualizationMode="Recycling">
						<TreeView.Resources>
							<DataTemplate DataType="{x:Type data:Quest}">
								<Grid VerticalAlignment="Center" HorizontalAlignment="Left" >
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition />
									</Grid.ColumnDefinitions>

									<TextBlock Grid.Column="0" Text="{Binding RecordId}" FontSize="12" Margin="0 0 5 0"/>
									<TextBlock Grid.Column="1" Text="{Binding Text}" FontSize="15" />
								</Grid>
							</DataTemplate>
						</TreeView.Resources>
					</TreeView>
					<StackPanel x:Name="QuestJournal_CurrentQuest_Info" Grid.Column="1" Margin="10 0 0 0" Orientation="Vertical">
						<UI:BnsCustomLabelWidget Text="{Binding Title ,FallbackValue=Quest Information Title}" FontSize="17" Foreground= "Gray"/>
						<StackPanel Orientation="Horizontal">
							<Image Source="/Resources/Images/Folder.png" Stretch="None" />
							<UI:BnsCustomLabelWidget Text="{Binding Text,FallbackValue=Name2}" />
						</StackPanel>

						<!-- UI.QuestJournal.Info.Content -->
						<TextBlock Text="内容" FontSize="22" />
						<UI:BnsCustomLabelWidget Text="{Binding Describe}" />

						<TextBlock Text="任务" FontSize="22" />

						<TextBlock Text="奖励" FontSize="22" />
					</StackPanel>
				</Grid>
			</TabItem>

			
			
			<TabItem x:Name="QuestJournal_Tab_RadioButton_4" Header="入手书信" />

			<TabItem x:Name="QuestJournal_Tab_RadioButton_2" Header="红尘往事" >
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="220" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>

					<TreeView x:Name="TreeView2" Grid.Column="0" SelectedItemChanged="CompletedTab_SelectedItemChanged" ContextMenu="{StaticResource ExtractMenu}" >
						<TreeView.Resources>
							<DataTemplate DataType="{x:Type data:Quest}">
								<StackPanel Orientation="Horizontal">
									<TextBlock Text="{Binding Text}" />
								</StackPanel>
							</DataTemplate>
						</TreeView.Resources>
					</TreeView>
					<UI:BnsCustomLabelWidget x:Name="TextBlock2" Grid.Column="1" FontSize="15" Margin="10" />
				</Grid>
			</TabItem>

			<TabItem x:Name="QuestJournal_Tab_RadioButton_3" Header="完成任务" Visibility="Hidden" />
		</TabControl>
	</Grid>
</UI:GameScene>